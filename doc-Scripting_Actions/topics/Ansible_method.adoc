[[Ansible_method]]

==== Creating a Playbook Automate Method

{product-title} can choose an Ansible playbook from a repository and execute it as a method. Each playbook method can take additional input parameters specified by the user. 

[NOTE]
====
You must first sync your playbook repositories before using them to create a method. See link:https://access.redhat.com/documentation/en-us/red_hat_cloudforms/4.6-beta/html/managing_providers/automation_management_providers#adding-a-playbook-repository[Adding a Playbook Repository] in the Managing Providers guide for information on initial playbook repository set-up. 
====

Create a playbook automate method:

. Navigate to menu:Automate[Explorer], navigate to the class where you want to create a method.

. Click the *Methods* tab.

. Click image:../images/1847.png[image] (*Configuration*),
image:../images/1862.png[image] (*Add a New Method*).

. In the *Main Info* area, select *playbook* from the drop-down menu.
. Provide a *Name* and *Display Name*.
. Select a playbook *Repository* from the list. 
.. Choose a *Playbook* to use.
.. Select the *Machine Credential* the playbook will use when it runs. 
.. From the *Cloud Type* list, select a cloud provider. 
.. Choose the *Cloud Credentials* that correspond to the selected cloud type. 
. Specify the *Hosts* on which the playbook will run. Choose *localhost* or provide unique values in the *Specify host values* field. 
. Set the *Max TTL* in minutes. The Time To Live (TTL) field allows you to set the maximum execution time for the playbook to run. 
. Select when to receive *Logging Output* from the options in the drop-down menu. 
. Use the *Escalate Privilege* toggle switch to enable user privilege escalation if called for in credentials during the playbook run.
. Choose a *Verbosity* value to set the debug level for playbook execution.
. Add required *Input Parameters* using the fields and values available. Click the image:2366.png[] to add additional input paramters.
. Click *Add* when finished. 
